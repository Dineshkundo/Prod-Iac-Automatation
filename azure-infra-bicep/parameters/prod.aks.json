{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "serviceName": { "value": "aks" },
    "tagSuffix": { "value": "prod" },
    "location": { "value": "eastus" },
    "aksConfig": {
      "value": {
        "location": "eastus",
        "clusterName": "CODA-PROD-AKS-Cluster",
        "vnetResourceId": "/subscriptions/xxxx/resourceGroups/CODA-PROD-RG/providers/Microsoft.Network/virtualNetworks/CODA-Prod-VNet",
        "sshPublicKey": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQ...",
        "adminUsername": "aksadmin",
        "kubernetesVersion": "1.31.1",
        "authorizedIpRanges": [
          "10.1.4.5/32",
          "38.79.64.66/32"
        ],
        "systemPool": {
          "name": "prodnodepool",
          "vmSize": "Standard_D8s_v3",
          "count": 2,
          "minCount": 1,
          "maxCount": 5,
          "subnetName": "CODA-PROD-Private-Subnet",
          "maxPods": 50,
          "mode": "System",
          "enableAutoScaling": true,
          "nodeLabels": {}
        },
        "userPools": [
          {
            "name": "cacheservice",
            "vmSize": "Standard_D8s_v3",
            "count": 1,
            "minCount": 1,
            "maxCount": 3,
            "subnetName": "CODA-PROD-Private-Subnet",
            "maxPods": 250,
            "mode": "User",
            "enableAutoScaling": true,
            "nodeLabels": {
              "pool": "cacheservice"
            },
            "nodeTaints": [
              "app=cacheservice:NoSchedule"
            ]
          }
        ],
        "tags": {
          "Environment": "Production",
          "Owner": "FinOps",
          "Team": "DevOps",
          "Application": "CODA"
        },
        "networkProfile": {
          "networkPlugin": "azure",
          "networkPolicy": "azure",
          "loadBalancerSku": "standard",
          "outboundType": "loadBalancer",
          "dnsServiceIP": "10.0.0.10",
          "serviceCidr": "10.0.0.0/16",
          "dockerBridgeCidr": "172.17.0.1/16"
        }
      }
    },
    "storageConfig": {
      "value": {
        "storageName": "codaprodstorage",
        "sku": "Standard_GRS",
        "accessTier": "Hot"
      }
    },
    "keyVaultName": { "value": "" },
    "secretNames": { "value": {} }
  }
}
