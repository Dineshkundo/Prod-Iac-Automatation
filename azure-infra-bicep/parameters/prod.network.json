{
  "vnetName": "CODA-Prod-VNet",
  "location": "eastus",
  "tags": { "Network": "CODA-Prod-VNet" },
  "addressSpace": ["10.1.0.0/16"],
  "enableDdosProtection": false,
  "encryption": { "enabled": true, "enforcement": "AllowUnencrypted" },
  "subnets": [
    {
      "name": "GatewaySubnet",
      "addressPrefixes": ["10.1.0.0/24"],
      "serviceEndpoints": [
        { "service": "Microsoft.Storage", "locations": ["eastus", "westus", "westus3"] }
      ],
      "privateEndpointNetworkPolicies": "Disabled",
      "privateLinkServiceNetworkPolicies": "Enabled"
    },
    {
      "name": "AzureFirewallSubnet",
      "addressPrefixes": ["10.1.1.0/26"],
      "serviceEndpoints": [
        { "service": "Microsoft.Storage", "locations": ["eastus", "westus", "westus3"] }
      ],
      "privateEndpointNetworkPolicies": "Disabled",
      "privateLinkServiceNetworkPolicies": "Enabled"
    },
    {
      "name": "CODA-PROD-Private-Subnet",
      "addressPrefixes": ["10.1.4.0/22"],
      "nsgId": "/subscriptions/.../networkSecurityGroups/CODA-PROD-Private-Subnet-NSG",
      "routeTableId": "/subscriptions/.../routeTables/AKS-PROD-TO-ONPREMISE",
      "serviceEndpoints": [
        { "service": "Microsoft.KeyVault", "locations": ["*"] },
        { "service": "Microsoft.Storage", "locations": ["eastus", "westus", "westus3"] }
      ],
      "privateEndpointNetworkPolicies": "Disabled",
      "privateLinkServiceNetworkPolicies": "Enabled"
    }
  ]
}
