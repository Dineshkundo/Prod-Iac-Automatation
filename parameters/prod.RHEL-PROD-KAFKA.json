{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "serviceName": { "value": "RHEL-PROD-KAFKA" },
    "tagSuffix": { "value": "prod" },
    "location": { "value": "eastus" },
    "vms": {
      "value": [
        {
          "vmName": "RHEL-PROD-KAFKA",
          "location": "eastus",
          "tags": { "Env": "PROD" },
          "vmSize": "Standard_D2s_v3",
          "publisher": "RedHat",
          "offer": "RHEL",
          "sku": "95_gen2",
          "version": "latest",
          "osDiskId": "/subscriptions/<Sub-id>/resourceGroups/CODA-PROD-RG/providers/Microsoft.Compute/disks/RHEL-PROD-KAFKA_OsDisk_1_385c541ca3e042c99562a5c075eafb7f",
          "dataDiskId": "",
          "nicId": "/subscriptions/<Sub-id>/resourceGroups/CODA-PROD-RG/providers/Microsoft.Network/networkInterfaces/rhel-prod-kafka127_z2",
          "extensions": {
            "username": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-kafka-username/)",
            "password": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-kafka-password/)",
            "ssh_key": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-kafka-sshkey/)",
            "reset_ssh": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-kafka-resetssh/)",
            "remove_user": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-kafka-removeuser/)",
            "expiration": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-kafka-expiration/)"
          }
        },
        {
          "vmName": "RHEL-PROD-APP",
          "location": "eastus",
          "tags": { "Env": "PROD" },
          "vmSize": "Standard_D4s_v3",
          "publisher": "RedHat",
          "offer": "RHEL",
          "sku": "95_gen2",
          "version": "latest",
          "osDiskId": "/subscriptions/<Sub-id>/resourceGroups/CODA-PROD-RG/providers/Microsoft.Compute/disks/RHEL-PROD-APP_OsDisk_1_3bfc541ca3e042c99562a5c075eafb8f",
          "dataDiskId": "/subscriptions/<Sub-id>/resourceGroups/CODA-PROD-RG/providers/Microsoft.Compute/disks/RHEL-PROD-APP-DataDisk1",
          "nicId": "/subscriptions/<Sub-id>/resourceGroups/CODA-PROD-RG/providers/Microsoft.Network/networkInterfaces/rhel-prod-appnic",
          "extensions": {
            "username": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-app-username/)",
            "password": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-app-password/)",
            "ssh_key": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-app-sshkey/)",
            "reset_ssh": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-app-resetssh/)",
            "remove_user": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-app-removeuser/)",
            "expiration": "@Microsoft.KeyVault(SecretUri=https://coda-prod-kv.vault.azure.net/secrets/rhel-prod-app-expiration/)"
          }
        }
      ]
    }
  }
}
